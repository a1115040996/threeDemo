<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
				border: 0;
			}
			
			canvas {
				width: 100%;
				height: 100%;
			}
		</style>
	</head>

	<body>
		<script src="native/three.js" type="text/javascript" charset="utf-8"></script>
		<script src="native/OrbitControls.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			var camera = createCamera();
			var scene = createScene();
			var renderer = createRenderer();
			var sphere = createLineSphere();
			var points = [...Array(36)].map(item => createPoints());
			var clock = new THREE.Clock();
			var pointsGroup = createPointsGroup(points);

			scene.add(pointsGroup);

			scene.add(sphere);

			var controls = new THREE.OrbitControls(camera, renderer.domElement);

			animate();

			function animate() {
				requestAnimationFrame(animate);
				renderer.render(scene, camera);
				var elapsed = clock.getElapsedTime();
				// 控制球体旋转
				sphere.rotation.y += 0.02;
				pointsGroup.rotation.y -= 0.01;
			}

			function createPointsGroup(points) {
				let wrapper = new THREE.Object3D();
				wrapper.position.set(0, 0, 0);
				points.map((point, idx) => {
					wrapper.add(point);
					point.position.set(Math.cos((2 * Math.PI / 360) * idx * 10) * 90, Math.sin((2 * Math.PI / 360) * idx * 10) * 90, 0)
				});
				//wrapper.rotateY(Math.cos(2));
				return wrapper;
			}

			function createPoints() {
				var geometry = new THREE.SphereGeometry(6, 6, 6);
				var material = new THREE.MeshBasicMaterial({
					color: 0xffffff,
					wireframe: true,
					wireframeLinewidth: 0
				});
				var point = new THREE.Mesh(geometry, material);
				return point;
			}

			function createLineSphere() {
				var geometry = new THREE.SphereGeometry(70, 14, 14);
				var material = new THREE.MeshBasicMaterial({
					color: 0xffffff,
					wireframe: true,
					wireframeLinewidth: 0
				});
				var sphere = new THREE.Mesh(geometry, material);
				return sphere;
			}

			function createRenderer() {
				var renderer = new THREE.WebGLRenderer();
				renderer.setSize(window.innerWidth, window.innerHeight);
				document.body.appendChild(renderer.domElement);
				return renderer;
			}

			function createScene() {
				var scene = new THREE.Scene();
				return scene;
			}

			function createCamera() {
				var camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 20000);
				camera.position.set(20, 20, 300);
				camera.lookAt(0, 0, 0);
				return camera;
			}
		</script>
	</body>

</html>